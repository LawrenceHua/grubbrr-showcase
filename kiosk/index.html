<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GRUBBRR Kiosk - Tizen V2 Replica</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #FF6B35; --primary-dark: #E55A2B; --secondary: #1E3A5F;
            --dark-bg: #0D1B2A; --darker-bg: #08101A; --card-bg: #1B263B;
            --text-primary: #FFFFFF; --text-secondary: #B8C5D6; --text-muted: #778DA9;
            --success: #4CAF50; --warning: #FFA726; --error: #EF5350;
            --bug-highlight: rgba(255, 107, 53, 0.3); --bug-glow: 0 0 15px rgba(255, 107, 53, 0.6);
        }
        html, body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark-bg); color: var(--text-primary); 
            height: 100%; width: 100%; overflow: hidden;
        }
        
        .kiosk-frame {
            width: 100vw; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            padding: 20px;
        }
        
        .kiosk-container {
            width: 100%; max-width: 1080px; height: 100%; max-height: 1920px;
            aspect-ratio: 9/16; background: var(--dark-bg); border-radius: 20px;
            box-shadow: 0 0 60px rgba(0,0,0,0.8), 0 0 0 8px #2a2a3a;
            display: flex; flex-direction: column; overflow: hidden; position: relative;
        }
        
        @media (min-aspect-ratio: 16/9) {
            .kiosk-container { aspect-ratio: 16/9; max-width: 1200px; }
        }
        
        .bug-mode-bar {
            flex-shrink: 0; height: 56px; background: var(--darker-bg); 
            border-bottom: 2px solid var(--primary);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; z-index: 1000;
        }
        .bug-mode-bar .logo { font-size: 18px; font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .bug-scroll-container { flex: 1; overflow-x: auto; overflow-y: hidden; display: flex; align-items: center; }
        .bug-indicator { display: flex; gap: 6px; align-items: center; flex-shrink: 0; }
        .bug-badge {
            padding: 4px 10px; border-radius: 12px; font-size: 10px; font-weight: 600;
            background: var(--card-bg); color: var(--text-muted); border: 1px solid transparent;
            transition: all 0.2s ease; cursor: pointer; white-space: nowrap;
        }
        .bug-badge:hover { background: rgba(255,255,255,0.1); transform: scale(1.05); }
        .bug-badge.active { background: var(--bug-highlight); border-color: var(--primary); color: var(--primary); box-shadow: var(--bug-glow); }
        .mode-toggle { display: flex; align-items: center; gap: 10px; flex-shrink: 0; margin-left: 15px; }
        .mode-label { font-size: 12px; color: var(--text-secondary); }
        .toggle-switch {
            width: 100px; height: 32px; background: var(--success); border-radius: 16px;
            cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;
            padding: 0 10px; font-size: 11px; font-weight: 600;
        }
        .toggle-switch.broken { background: var(--error); }
        
        .kiosk-content { flex: 1; display: grid; grid-template-columns: 160px 1fr 280px; overflow: hidden; }
        .category-sidebar { background: var(--darker-bg); border-right: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; overflow-y: auto; }
        .category-item { padding: 16px 12px; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,0.05); transition: all 0.2s ease; display: flex; flex-direction: column; align-items: center; gap: 6px; }
        .category-item:hover { background: rgba(255,255,255,0.05); }
        .category-item.active { background: var(--primary); color: white; }
        .category-icon { font-size: 24px; }
        .category-name { font-size: 12px; font-weight: 600; text-align: center; }
        
        .item-grid-container { background: var(--dark-bg); overflow-y: auto; padding: 20px; }
        .category-header { margin-bottom: 20px; }
        .category-header h1 { font-size: 28px; font-weight: 700; margin-bottom: 6px; }
        .category-header p { color: var(--text-muted); font-size: 14px; }
        .item-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; }
        .item-card { background: var(--card-bg); border-radius: 14px; overflow: hidden; cursor: pointer; transition: all 0.2s ease; border: 2px solid transparent; position: relative; }
        .item-card:hover { transform: translateY(-4px); border-color: var(--primary); box-shadow: 0 8px 30px rgba(255,107,53,0.2); }
        .item-card.bug-highlight { border-color: var(--primary); box-shadow: var(--bug-glow); }
        .bug-overlay { position: absolute; top: 6px; right: 6px; background: var(--error); color: white; font-size: 10px; font-weight: 700; padding: 3px 6px; border-radius: 6px; z-index: 10; display: none; }
        .bug-mode .bug-overlay { display: block; }
        .item-image { height: 120px; background: linear-gradient(135deg, #2A3441 0%, #1B263B 100%); display: flex; align-items: center; justify-content: center; font-size: 48px; }
        .item-info { padding: 14px; }
        .item-name { font-size: 14px; font-weight: 600; margin-bottom: 4px; line-height: 1.3; }
        .item-description { font-size: 11px; color: var(--text-muted); margin-bottom: 10px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .item-footer { display: flex; justify-content: space-between; align-items: center; }
        .item-price { font-size: 18px; font-weight: 700; color: var(--primary); }
        .add-btn { width: 36px; height: 36px; border-radius: 50%; background: var(--primary); border: none; color: white; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; }
        .add-btn:hover { background: var(--primary-dark); transform: scale(1.1); }
        
        .cart-sidebar { background: var(--darker-bg); border-left: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; }
        .cart-header { padding: 16px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .cart-header h2 { font-size: 18px; display: flex; align-items: center; gap: 8px; }
        .cart-count { background: var(--primary); color: white; font-size: 12px; padding: 2px 8px; border-radius: 10px; }
        .cart-items { flex: 1; overflow-y: auto; padding: 12px; }
        .cart-item { background: var(--card-bg); border-radius: 10px; padding: 14px; margin-bottom: 10px; position: relative; }
        .cart-item.bug-highlight { border: 2px solid var(--primary); box-shadow: var(--bug-glow); }
        .cart-item-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .cart-item-name { font-weight: 600; font-size: 14px; flex: 1; padding-right: 8px; }
        .cart-item-price { font-weight: 700; color: var(--primary); }
        .cart-item-controls { display: flex; align-items: center; gap: 10px; }
        .qty-btn { width: 28px; height: 28px; border-radius: 6px; background: rgba(255,255,255,0.1); border: none; color: white; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .qty-btn:hover { background: rgba(255,255,255,0.2); }
        .qty-value { font-size: 14px; font-weight: 600; min-width: 24px; text-align: center; }
        .qty-slider-container { margin-top: 8px; display: none; }
        .qty-slider-container.visible { display: block; }
        .qty-slider { width: 100%; height: 6px; -webkit-appearance: none; background: rgba(255,255,255,0.1); border-radius: 3px; outline: none; }
        .qty-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 16px; height: 16px; background: var(--primary); border-radius: 50%; cursor: pointer; }
        .qty-slider.bug-broken::-webkit-slider-thumb { background: var(--error); }
        .cart-empty { text-align: center; padding: 30px 16px; color: var(--text-muted); }
        .cart-empty-icon { font-size: 48px; margin-bottom: 12px; opacity: 0.5; }
        .cart-footer { padding: 16px; border-top: 1px solid rgba(255,255,255,0.05); background: var(--card-bg); }
        .cart-subtotal, .cart-tax { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 14px; color: var(--text-secondary); }
        .cart-total { display: flex; justify-content: space-between; font-size: 20px; font-weight: 700; margin-bottom: 12px; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.1); }
        .checkout-btn { width: 100%; padding: 16px; background: var(--primary); border: none; border-radius: 10px; color: white; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 1px; }
        .checkout-btn:hover { background: var(--primary-dark); transform: translateY(-2px); }
        .checkout-btn:disabled { background: var(--text-muted); cursor: not-allowed; transform: none; }
        
        .bug-info-panel { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); background: var(--darker-bg); border: 2px solid var(--primary); border-radius: 16px; padding: 24px; max-width: 450px; width: 90%; z-index: 3000; opacity: 0; visibility: hidden; transition: all 0.3s ease; box-shadow: 0 20px 60px rgba(0,0,0,0.5), var(--bug-glow); }
        .bug-info-panel.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
        .bug-info-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; }
        .bug-info-id { background: var(--error); color: white; padding: 5px 10px; border-radius: 6px; font-size: 12px; font-weight: 700; }
        .bug-info-title { font-size: 16px; font-weight: 700; }
        .bug-info-description { color: var(--text-secondary); line-height: 1.5; margin-bottom: 16px; font-size: 13px; }
        .bug-info-impact { background: rgba(255,107,53,0.1); border-left: 4px solid var(--primary); padding: 14px; border-radius: 0 8px 8px 0; margin-bottom: 16px; }
        .bug-info-impact h4 { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; color: var(--primary); }
        .bug-info-close { width: 100%; padding: 12px; background: var(--primary); border: none; border-radius: 8px; color: white; font-size: 14px; font-weight: 600; cursor: pointer; }
        .bug-info-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 2999; display: none; }
        .bug-info-overlay.active { display: block; }
        
        .bug-counter { position: absolute; bottom: 10px; left: 20px; font-size: 11px; color: var(--text-muted); z-index: 100; }
    </style>
</head>
<body>
    <div class="kiosk-frame">
        <div class="kiosk-container">
            <div class="bug-mode-bar">
                <div class="logo"><span>üçî</span>GRUBBRR</div>
                <div class="bug-scroll-container">
                    <div class="bug-indicator" id="bugIndicator"></div>
                </div>
                <div class="mode-toggle">
                    <span class="mode-label">Mode:</span>
                    <div class="toggle-switch" id="modeToggle"><span class="toggle-text">WORKING</span></div>
                </div>
            </div>

            <div class="kiosk-content">
                <div class="category-sidebar" id="categorySidebar"></div>
                <div class="item-grid-container">
                    <div class="category-header">
                        <h1 id="categoryTitle">Burgers</h1>
                        <p id="categoryDesc">Fresh, flame-grilled burgers made to order</p>
                    </div>
                    <div class="item-grid" id="itemGrid"></div>
                </div>
                <div class="cart-sidebar" id="cartSidebar">
                    <div class="cart-header">
                        <h2>üõí Order<span class="cart-count" id="cartCount">0</span></h2>
                    </div>
                    <div class="cart-items" id="cartItems">
                        <div class="cart-empty">
                            <div class="cart-empty-icon">üõí</div>
                            <p>Your cart is empty</p>
                        </div>
                    </div>
                    <div class="cart-footer">
                        <div class="cart-subtotal"><span>Subtotal</span><span id="cartSubtotal">$0.00</span></div>
                        <div class="cart-tax"><span>Tax</span><span id="cartTax">$0.00</span></div>
                        <div class="cart-total"><span>Total</span><span id="cartTotal">$0.00</span></div>
                        <button class="checkout-btn" id="checkoutBtn" disabled>Checkout</button>
                    </div>
                </div>
            </div>

            <div class="bug-counter" id="bugCounter">55 Bugs Available</div>

            <div class="bug-info-overlay" id="bugInfoOverlay" onclick="closeBugInfo()"></div>
            <div class="bug-info-panel" id="bugInfoPanel">
                <div class="bug-info-header">
                    <span class="bug-info-id" id="bugInfoId">NGE-XXXX</span>
                    <span class="bug-info-title" id="bugInfoTitle">Bug Title</span>
                </div>
                <div class="bug-info-description" id="bugInfoDesc">Bug description...</div>
                <div class="bug-info-impact">
                    <h4>Impact</h4>
                    <p id="bugInfoImpact">Impact description...</p>
                </div>
                <button class="bug-info-close" onclick="closeBugInfo()">Close</button>
            </div>
        </div>
    </div>

    <script>
        // All 55 Bugs Data
        const allBugs = {
            'NGE-TEST-01': { title: 'Button Alignment Fix', description: 'Initial test bug - Button alignment was off by 2 pixels on the payment screen', impact: 'Visual inconsistency affecting brand perception', category: 'UI', priority: 'High' },
            'NGE-TEST-02': { title: 'Card Validation Fix', description: 'Initial test bug - Card validation was accepting expired cards', impact: 'Payment errors and customer frustration', category: 'Payment', priority: 'High' },
            'NGE-TEST-03': { title: 'Response Timeout Fix', description: 'Initial test bug - API response timeout was too short causing false failures', impact: 'Unnecessary error messages to users', category: 'API', priority: 'Medium' },
            'NGE-TEST-04': { title: 'State Management Fix', description: 'Initial test bug - Cart state not persisting across screen transitions', impact: 'Lost orders and customer confusion', category: 'State', priority: 'High' },
            'NGE-TEST-05': { title: 'Modal Dialog Fix', description: 'Initial test bug - Modal dialogs not closing on backdrop click', impact: 'User interface usability issue', category: 'UI', priority: 'Medium' },
            'NGE-13897': { title: 'Slider Sync Issue', description: 'Second Slider should not move in Syncs When Editing Existing Item', impact: 'Prevents accidental quantity changes when editing items', category: 'UI', priority: 'Highest' },
            'NGE-13870': { title: 'Card Type Not Displayed', description: 'Payment card type is not displayed for orders', impact: 'Users cannot verify their card was detected correctly', category: 'Payment', priority: 'Highest' },
            'NGE-13857': { title: 'Refund Status Mismatch', description: 'Kiosk shows failed to refund however backend shows FULLY REFUNDED', impact: 'Duplicate refund attempts and customer confusion', category: 'Payment', priority: 'Highest' },
            'NGE-13846': { title: 'Card Type Shows N/A', description: 'Payment Type and Card Type showing as Credit/N/A instead of actual details', impact: 'Users cannot verify payment method', category: 'Payment', priority: 'Highest' },
            'NGE-13843': { title: 'Reward Button Label', description: 'Reward Card button labeled "Reward" should be "Redeem" for clear CTA', impact: 'Confusing user experience', category: 'UI', priority: 'Highest' },
            'NGE-13871': { title: 'BOGO Discount Not Applied', description: 'Deliverect Integration: BOGO Cart Discount Not Applied for Same Item Qty 2', impact: 'Customers not receiving promised discounts', category: 'Payment', priority: 'High' },
            'NGE-13854': { title: 'Missing Modifiers on Receipt', description: 'Some modifier selections are missing in the receipt', impact: 'Incomplete order information', category: 'UI', priority: 'High' },
            'NGE-13852': { title: 'App Time Reverts', description: 'App time reverts to device time after restart', impact: 'Incorrect timestamps on orders', category: 'Time', priority: 'High' },
            'NGE-13859': { title: 'Time Not Set After Restart', description: 'Kiosk does not set time immediately after restart', impact: 'Time-sensitive features fail', category: 'Time', priority: 'High' },
            'NGE-13858': { title: 'Scroll Bar Overlaps Popup', description: 'Order History Scroll Bar Overlaps Refund Pop up', impact: 'Cannot access refund button', category: 'UI', priority: 'High' },
            'NGE-13903': { title: 'QR Code Scanning Fails', description: 'QR code scanning at Loyalty Login page is not working as expected', impact: 'Loyalty customers cannot login', category: 'Scanner', priority: 'Medium' },
            'NGE-13855': { title: 'Scanner Remains Active', description: 'Posiflex Scanner remains active when it should be disabled', impact: 'Unwanted scans causing errors', category: 'Scanner', priority: 'Medium' },
            'NGE-13836': { title: 'Duplicate Instructional Text', description: 'Duplicate instructional text causes confusion while editing login screen', impact: 'User confusion during setup', category: 'UI', priority: 'Medium' },
            'NGE-13829': { title: 'Button Overlap', description: 'Special Request button should not overlap modifier group name', impact: 'UI layout issue', category: 'UI', priority: 'Medium' },
            'NGE-13828': { title: 'Multiple Scroll Bars', description: 'Multiple scroll bars visible on Menu page Item list', impact: 'Visual clutter', category: 'UI', priority: 'Medium' },
            'NGE-13648': { title: 'Error Flash on Cancel', description: 'Error message flashes at top of screen when users cancel an order', impact: 'Confusing user feedback', category: 'UI', priority: 'Low' },
            'NGE-12942': { title: 'Discount Name Not Changed', description: 'Discount name does not get changed when another discount applied on qty change', impact: 'Incorrect discount display', category: 'Payment', priority: 'Low' },
            'NGE-12492': { title: 'Popup Does Not Close', description: 'Clicking Outside the Behavior-Based Message Popup Does Not Close It', impact: 'Modal usability issue', category: 'UI', priority: 'Low' },
            'NGE-12485': { title: 'CTA Button Shows After Tap', description: 'Do not show CTA button after user has already tapped and is on next screen', impact: 'Visual inconsistency', category: 'UI', priority: 'Low' },
            'NGE-12484': { title: 'Special Characters Cut-off', description: 'Special Characters Cause Text Cut-off in CTA Section', impact: 'Truncated text display', category: 'UI', priority: 'Low' },
            'NGE-10651': { title: 'Black Screen Not Showing', description: 'Black screen not shows even if Black Screen option selected when kiosk is out of hours', impact: 'Security and display issue', category: 'Time', priority: 'Lowest' },
            'NGE-9624': { title: 'Name Field Validation', description: 'Name field character validation missing', impact: 'Invalid data entry', category: 'Backend', priority: 'Lowest' },
            'NGE-8469': { title: 'Extra Charge Not Displayed', description: 'Extra Charge fees applied on order type is not displayed on kiosk', impact: 'Hidden fees upset customers', category: 'Backend', priority: 'Lowest' },
            'NGE-7772': { title: 'Component Scheduling', description: 'Item inside the component group scheduling is not working', impact: 'Scheduled items not showing correctly', category: 'Backend', priority: 'Lowest' },
            'NGE-6516': { title: 'POS Offline Log Issues', description: 'POS Offline log Issues with Par brink integration', impact: 'Missing diagnostic information', category: 'Backend', priority: 'Lowest' },
            'NGE-13951': { title: 'Tip Calculation Inconsistency', description: 'Tip Calculation Inconsistency When Rewards Are Applied', impact: 'Incorrect billing amounts', category: 'Payment', priority: 'Highest' },
            'NGE-13820': { title: 'Scanner Always Active', description: 'Scanner continuously active on all KIOSK screens instead of where expected', impact: 'Accidental scans and order errors', category: 'Scanner', priority: 'Highest' },
            'NGE-13793': { title: 'Order Total Not Updating', description: 'Order Total in Past Orders fails to update when item quantity increased', impact: 'Shows unit price instead of calculated total', category: 'UI', priority: 'Highest' },
            'NGE-13782': { title: 'Duplicate Text Override Fields', description: 'Duplicate Text Override Fields for Loyalty Login and Payment Summary', impact: 'Confusing duplicate inputs', category: 'UI', priority: 'Highest' },
            'NGE-13683': { title: 'Square Payment Failure', description: 'Failure in Square Payment Terminal Integration for Kiosk', impact: 'Cannot process Square payments', category: 'Payment', priority: 'Highest' },
            'NGE-13845': { title: 'Items from Different Orders', description: 'Items from different orders are showing in Refund receipt descriptions', impact: 'Incorrect refund information', category: 'UI', priority: 'High' },
            'NGE-13841': { title: 'Store Remains Closed', description: 'Store remains closed when default time (12:00 AM - 12:00 AM) is enabled', impact: 'Cannot open store for business', category: 'Time', priority: 'High' },
            'NGE-13842': { title: 'gRPC Response Error', description: 'Bad gRPC response HTTP status code: 500 shown when POS is closed', impact: 'Confusing error message', category: 'Backend', priority: 'High' },
            'NGE-13830': { title: 'Header Logo Padding', description: 'Need to set padding for Header Logo Image box', impact: 'Logo touches edges', category: 'UI', priority: 'High' },
            'NGE-13844': { title: 'Parent Modifier Group Expands', description: 'Parent modifier group expands after selecting a nested modifier', impact: 'UI navigation issue', category: 'UI', priority: 'High' },
            'NGE-13816': { title: 'Receipt Issues', description: 'KIOSK / Receipt - Receipt feedbacks major and minor', impact: 'Receipt formatting problems', category: 'UI', priority: 'High' },
            'NGE-13818': { title: 'Header Text Color Not Applying', description: 'Item Header Text Color Not Applying When Item Header Background Color Is Not Set', impact: 'Invisible text on some themes', category: 'UI', priority: 'High' },
            'NGE-13809': { title: 'Reward Scrolls to Bottom', description: 'Applied reward scrolls to the bottom of the reward list instead of showing at top', impact: 'Users cannot see applied rewards', category: 'UI', priority: 'High' },
            'NGE-13819': { title: 'Email Login Not Visible', description: 'Login with Email option is not visible on kiosk after enabling from GCC', impact: 'Email login unavailable', category: 'Backend', priority: 'High' },
            'NGE-13799': { title: 'Blank Space Accepted', description: 'Blank Space Accepted as Valid Input in Special Request Field', impact: 'Invalid special requests submitted', category: 'Backend', priority: 'High' },
            'NGE-13827': { title: 'Category Image Aspect Ratio', description: 'Category image aspect ratio mismatch on kiosk', impact: 'Stretched or cropped images', category: 'UI', priority: 'Medium' },
            'NGE-13815': { title: 'Corner Image Padding', description: 'Adjust the padding of Default Top Corner Image on kiosk', impact: 'Image layout issue', category: 'UI', priority: 'Medium' },
            'NGE-13813': { title: 'Error Shows in English', description: 'Error message shows in English even with Spanish language selected', impact: 'Localization issue', category: 'Backend', priority: 'Medium' },
            'NGE-13797': { title: 'No Special Request Indicator', description: 'Kiosk does not differentiate items with and without special requests', impact: 'Kitchen cannot see special requests', category: 'UI', priority: 'Medium' },
            'NGE-13796': { title: 'Invalid 0.00 Reward Applied', description: 'Invalid Reward with 0.00 Discount Can Be Applied to Cart', impact: 'Useless reward clutters cart', category: 'Payment', priority: 'Medium' },
            'NGE-13798': { title: 'Minimum Order Validation', description: 'Minimum Order Total validates against Pre-Discount Subtotal instead of Final Total', impact: 'Allows orders below minimum', category: 'Payment', priority: 'Medium' },
            'NGE-13795': { title: 'Order Total Flash', description: 'Order total screen shows for millisecond before calculating order screen appears', impact: 'Visual flash annoys users', category: 'UI', priority: 'Medium' },
            'NGE-12399': { title: 'EVO Refund Shows Completed', description: 'EVO Direct - When refund fails it shows as completed on the kiosk', impact: 'False success message', category: 'Payment', priority: 'Low' },
            'NGE-12389': { title: 'Evertec Refund Incorrect', description: 'Evertec - Refunds incorrect amount when tips are applied', impact: 'Incorrect refund amounts', category: 'Payment', priority: 'Low' },
            'NGE-5800': { title: 'Builder Mode Icon Disappears', description: 'When item is in the builder mode - completed icon disappears', impact: 'Cannot see item completion status', category: 'UI', priority: 'Lowest' }
        };

        const menuData = {
            categories: [
                { id: 'burgers', name: 'Burgers', icon: 'üçî', desc: 'Fresh, flame-grilled burgers made to order' },
                { id: 'sides', name: 'Sides', icon: 'üçü', desc: 'Crispy sides and appetizers' },
                { id: 'drinks', name: 'Drinks', icon: 'ü•§', desc: 'Refreshing beverages and shakes' },
                { id: 'desserts', name: 'Desserts', icon: 'üç¶', desc: 'Sweet treats to finish your meal' }
            ],
            items: {
                burgers: [
                    { id: 'b1', name: 'Classic Cheeseburger', description: 'Beef patty, American cheese, lettuce, tomato, pickles, special sauce', price: 8.99, emoji: 'üçî' },
                    { id: 'b2', name: 'Bacon BBQ Burger', description: 'Beef patty, crispy bacon, cheddar, BBQ sauce, onion rings', price: 11.99, emoji: 'ü•ì' },
                    { id: 'b3', name: 'Double Stack', description: 'Two beef patties, double cheese, all the fixings', price: 13.99, emoji: 'üçî' },
                    { id: 'b4', name: 'Mushroom Swiss', description: 'Saut√©ed mushrooms, Swiss cheese, garlic aioli', price: 10.99, emoji: 'üçÑ' },
                    { id: 'b5', name: 'Spicy Chicken', description: 'Crispy chicken, pepper jack, jalape√±os, chipotle mayo', price: 9.99, emoji: 'üçó' },
                    { id: 'b6', name: 'Veggie Burger', description: 'Plant-based patty, avocado, sprouts, vegan mayo', price: 10.49, emoji: 'ü•¨' }
                ],
                sides: [
                    { id: 's1', name: 'French Fries', description: 'Crispy golden fries, lightly salted', price: 3.99, emoji: 'üçü' },
                    { id: 's2', name: 'Onion Rings', description: 'Beer-battered and perfectly crispy', price: 4.99, emoji: 'üßÖ' },
                    { id: 's3', name: 'Cheese Curds', description: 'Wisconsin cheese curds, ranch dipping sauce', price: 6.99, emoji: 'üßÄ' },
                    { id: 's4', name: 'Chicken Tenders', description: '4 crispy tenders with your choice of sauce', price: 7.99, emoji: 'üçó' },
                    { id: 's5', name: 'Side Salad', description: 'Mixed greens, tomatoes, cucumbers, croutons', price: 4.49, emoji: 'ü•ó' },
                    { id: 's6', name: 'Loaded Fries', description: 'Fries topped with cheese, bacon, green onions', price: 6.99, emoji: 'üçü' }
                ],
                drinks: [
                    { id: 'd1', name: 'Fountain Drink', description: 'Coca-Cola, Diet Coke, Sprite, Dr Pepper', price: 2.99, emoji: 'ü•§' },
                    { id: 'd2', name: 'Chocolate Shake', description: 'Rich and creamy chocolate milkshake', price: 5.99, emoji: 'ü•§' },
                    { id: 'd3', name: 'Vanilla Shake', description: 'Classic vanilla milkshake', price: 5.99, emoji: 'ü•§' },
                    { id: 'd4', name: 'Strawberry Shake', description: 'Fresh strawberry milkshake', price: 5.99, emoji: 'ü•§' },
                    { id: 'd5', name: 'Iced Coffee', description: 'Cold brew coffee with your choice of flavor', price: 4.49, emoji: '‚òï' },
                    { id: 'd6', name: 'Bottled Water', description: 'Pure spring water', price: 2.49, emoji: 'üíß' }
                ],
                desserts: [
                    { id: 'de1', name: 'Chocolate Sundae', description: 'Vanilla ice cream, chocolate sauce, whipped cream', price: 4.99, emoji: 'üç®' },
                    { id: 'de2', name: 'Apple Pie', description: 'Warm apple pie with vanilla ice cream', price: 5.49, emoji: 'ü•ß' },
                    { id: 'de3', name: 'Brownie Sundae', description: 'Warm brownie, ice cream, chocolate sauce', price: 6.99, emoji: 'üç´' },
                    { id: 'de4', name: 'Soft Serve Cone', description: 'Vanilla or chocolate soft serve', price: 2.99, emoji: 'üç¶' },
                    { id: 'de5', name: 'Cookie', description: 'Fresh-baked chocolate chip cookie', price: 2.49, emoji: 'üç™' },
                    { id: 'de6', name: 'Churros', description: '3 cinnamon sugar churros with chocolate dip', price: 4.99, emoji: 'ü•®' }
                ]
            }
        };

        let state = { currentCategory: 'burgers', cart: [], bugMode: false };

        document.addEventListener('DOMContentLoaded', () => {
            renderBugIndicator();
            renderCategories();
            renderItems();
            renderCart();
            setupEventListeners();
        });

        function renderBugIndicator() {
            const container = document.getElementById('bugIndicator');
            const bugIds = Object.keys(allBugs);
            container.innerHTML = bugIds.map(id => 
                `<span class="bug-badge" data-bug="${id}" onclick="showBugInfo('${id}')">${id}</span>`
            ).join('');
        }

        function renderCategories() {
            document.getElementById('categorySidebar').innerHTML = menuData.categories.map(cat => 
                `<div class="category-item ${state.currentCategory === cat.id ? 'active' : ''}" onclick="selectCategory('${cat.id}')">
                    <span class="category-icon">${cat.icon}</span>
                    <span class="category-name">${cat.name}</span>
                </div>`
            ).join('');
        }

        function renderItems() {
            const category = menuData.categories.find(c => c.id === state.currentCategory);
            const items = menuData.items[state.currentCategory] || [];
            document.getElementById('categoryTitle').textContent = category.name;
            document.getElementById('categoryDesc').textContent = category.desc;
            document.getElementById('itemGrid').innerHTML = items.map(item => 
                `<div class="item-card ${state.bugMode ? 'bug-highlight' : ''}" onclick="addToCart('${item.id}')">
                    ${state.bugMode ? '<div class="bug-overlay">BUG</div>' : ''}
                    <div class="item-image">${item.emoji}</div>
                    <div class="item-info">
                        <div class="item-name">${item.name}</div>
                        <div class="item-description">${item.description}</div>
                        <div class="item-footer">
                            <span class="item-price">$${item.price.toFixed(2)}</span>
                            <button class="add-btn" onclick="event.stopPropagation(); addToCart('${item.id}')">+</button>
                        </div>
                    </div>
                </div>`
            ).join('');
        }

        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            if (state.cart.length === 0) {
                cartItems.innerHTML = `<div class="cart-empty"><div class="cart-empty-icon">üõí</div><p>Your cart is empty</p><p style="font-size: 12px; margin-top: 6px;">Tap items to add</p></div>`;
                document.getElementById('checkoutBtn').disabled = true;
            } else {
                cartItems.innerHTML = state.cart.map((item, index) => 
                    `<div class="cart-item ${state.bugMode && index === 0 ? 'bug-highlight' : ''}">
                        <div class="cart-item-header">
                            <span class="cart-item-name">${item.name}</span>
                            <span class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</span>
                        </div>
                        <div class="cart-item-controls">
                            <button class="qty-btn" onclick="updateQuantity(${index}, -1)">‚àí</button>
                            <span class="qty-value">${item.quantity}</span>
                            <button class="qty-btn" onclick="updateQuantity(${index}, 1)">+</button>
                        </div>
                        <div class="qty-slider-container ${state.bugMode ? 'visible' : ''}">
                            <input type="range" class="qty-slider ${state.bugMode ? 'bug-broken' : ''}" min="1" max="10" value="${item.quantity}">
                        </div>
                    </div>`
                ).join('');
                document.getElementById('checkoutBtn').disabled = false;
            }
            updateCartTotals();
        }

        function updateCartTotals() {
            const subtotal = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tax = subtotal * 0.08;
            const total = subtotal + tax;
            document.getElementById('cartSubtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('cartTax').textContent = `$${tax.toFixed(2)}`;
            document.getElementById('cartTotal').textContent = `$${total.toFixed(2)}`;
            document.getElementById('cartCount').textContent = state.cart.reduce((sum, item) => sum + item.quantity, 0);
        }

        function selectCategory(id) { state.currentCategory = id; renderCategories(); renderItems(); }

        function findItem(id) { for (const cat in menuData.items) { const item = menuData.items[cat].find(i => i.id === id); if (item) return item; } return null; }

        function addToCart(itemId) {
            const item = findItem(itemId);
            if (!item) return;
            const existing = state.cart.find(i => i.id === item.id);
            if (existing) { existing.quantity++; } else { state.cart.push({ ...item, quantity: 1 }); }
            renderCart();
        }

        function updateQuantity(index, delta) {
            const item = state.cart[index];
            if (item) { item.quantity += delta; if (item.quantity <= 0) state.cart.splice(index, 1); renderCart(); }
        }

        function toggleBugMode() {
            state.bugMode = !state.bugMode;
            updateBugMode();
        }

        function updateBugMode() {
            const toggle = document.getElementById('modeToggle');
            const text = toggle.querySelector('.toggle-text');
            const bugBadges = document.querySelectorAll('.bug-badge');
            if (state.bugMode) {
                toggle.classList.add('broken'); text.textContent = 'BUG MODE';
                document.body.classList.add('bug-mode');
                bugBadges.forEach(badge => badge.classList.add('active'));
            } else {
                toggle.classList.remove('broken'); text.textContent = 'WORKING';
                document.body.classList.remove('bug-mode');
                bugBadges.forEach(badge => badge.classList.remove('active'));
            }
            renderItems(); renderCart();
        }

        function showBugInfo(bugId) {
            const bug = allBugs[bugId]; if (!bug) return;
            document.getElementById('bugInfoId').textContent = bugId;
            document.getElementById('bugInfoTitle').textContent = bug.title;
            document.getElementById('bugInfoDesc').textContent = bug.description;
            document.getElementById('bugInfoImpact').textContent = bug.impact;
            document.getElementById('bugInfoPanel').classList.add('active');
            document.getElementById('bugInfoOverlay').classList.add('active');
        }

        function closeBugInfo() {
            document.getElementById('bugInfoPanel').classList.remove('active');
            document.getElementById('bugInfoOverlay').classList.remove('active');
        }

        function setupEventListeners() {
            document.getElementById('modeToggle').addEventListener('click', toggleBugMode);
        }
    </script>
</body>
</html>
